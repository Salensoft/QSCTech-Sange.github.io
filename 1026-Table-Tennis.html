<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>&lt;Python&gt;&lt;PAT&gt; 1026 Table Tennis | 三个技术小站</title><meta name="description" content="模拟排队，有VIP的情况"><meta name="keywords" content="PAT,题解"><meta name="author" content="杨宇昊"><meta name="copyright" content="杨宇昊"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/red_shark.webp"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><link rel="preconnect" href="https://hm.baidu.com"><link rel="preconnect" href="http://ta.qq.com"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="ykFGsmFH8M0zGBTxnp6wJbCxJCcrr-5_xEd74sfqA6s"><meta name="msvalidate.01" content="B9612ADF0D9A92F7A76CC3705B2645F6"><meta name="360-site-verification" content="4417b2a102039ff12038fca1701a3618"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="&lt;Python&gt;&lt;PAT&gt; 1026 Table Tennis"><meta name="twitter:description" content="模拟排队，有VIP的情况"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp"><meta property="og:type" content="article"><meta property="og:title" content="&lt;Python&gt;&lt;PAT&gt; 1026 Table Tennis"><meta property="og:url" content="https://qsctech-sange.github.io/1026-Table-Tennis"><meta property="og:site_name" content="三个技术小站"><meta property="og:description" content="模拟排队，有VIP的情况"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = '1'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://qsctech-sange.github.io/1026-Table-Tennis"><link rel="prev" title="&lt;Python&gt;&lt;PAT&gt; 1027 Colors in Mars" href="https://qsctech-sange.github.io/1027-Colors-in-Mars.html"><link rel="next" title="&lt;Python&gt;&lt;PAT&gt; 1025 PAT Ranking" href="https://qsctech-sange.github.io/1025-PAT-Ranking.html"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?bbe3106fee7fc090c2fbe9fa14e2ea91";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', '156936411-1', 'auto');
ga('send', 'pageview');
</script><script src="http://tajs.qq.com/stats?sId=66512776" charset="UTF-8"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: 杨宇昊","link":"链接: https://qsctech-sange.github.io/1026-Table-Tennis","source":"来源: 三个技术小站","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script></head><body><canvas class="fireworks"></canvas><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">三个技术小站</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 文章</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-link"></i><span> 音乐</span></a></li><li><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-photo"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/red_shark.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">239</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">67</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">17</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 文章</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-link"></i><span> 音乐</span></a></li><li><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-photo"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#input-specification"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text"> Input Specification:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#output-specification"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text"> Output Specification:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#sample-input"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text"> Sample Input:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#sample-output"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text"> Sample Output:</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#题解"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text"> 题解</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#思路"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text"> 思路</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#数据结构"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text"> 数据结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#算法"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text"> 算法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#代码"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text"> 代码</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#python"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text"> Python</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#c"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text"> C++</span></a></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#input-specification"><span class="toc-number">1.</span> <span class="toc-text"> Input Specification:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#output-specification"><span class="toc-number">2.</span> <span class="toc-text"> Output Specification:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sample-input"><span class="toc-number">3.</span> <span class="toc-text"> Sample Input:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sample-output"><span class="toc-number">4.</span> <span class="toc-text"> Sample Output:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#题解"><span class="toc-number"></span> <span class="toc-text"> 题解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#思路"><span class="toc-number"></span> <span class="toc-text"> 思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据结构"><span class="toc-number"></span> <span class="toc-text"> 数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#算法"><span class="toc-number"></span> <span class="toc-text"> 算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码"><span class="toc-number"></span> <span class="toc-text"> 代码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#python"><span class="toc-number">1.</span> <span class="toc-text"> Python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#c"><span class="toc-number">2.</span> <span class="toc-text"> C++</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-top.webp)"><div id="post-info"><div id="post-title"><div class="posttitle">&lt;Python&gt;&lt;PAT&gt; 1026 Table Tennis</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2019-08-23<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2019-09-16</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/PAT/">PAT</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">2.2k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>阅读时长: 11 分钟</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/1026-Table-Tennis.html#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/1026-Table-Tennis.html" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p>A table tennis club has N tables available to the public. The tables are numbered from 1 to N. For any pair of players, if there are some tables open when they arrive, they will be assigned to the available table with the smallest number. If all the tables are occupied, they will have to wait in a queue. It is assumed that every pair of players can play for at most 2 hours.</p>
<p>Your job is to count for everyone in queue their waiting time, and for each table the number of players it has served for the day.</p>
<p>One thing that makes this procedure a bit complicated is that the club reserves some tables for their VIP members. When a VIP table is open, the first VIP pair in the queue will have the priviledge to take it. However, if there is no VIP in the queue, the next pair of players can take it. On the other hand, if when it is the turn of a VIP pair, yet no VIP table is available, they can be assigned as any ordinary players.</p>
<h3 id="input-specification"><a class="markdownIt-Anchor" href="#input-specification"></a> Input Specification:</h3>
<p>Each input file contains one test case. For each case, the first line contains an integer <code>N</code> (≤10000) - the total number of pairs of players. Then <code>N</code> lines follow, each contains 2 times and a VIP tag: <code>HH:MM:SS</code> - the arriving time, <code>P</code> - the playing time in minutes of a pair of players, and <code>tag</code> - which is 1 if they hold a VIP card, or 0 if not. It is guaranteed that the arriving time is between 08:00:00 and 21:00:00 while the club is open. It is assumed that no two customers arrives at the same time. Following the players’ info, there are 2 positive integers: <code>K</code> (≤100) - the number of tables, and <code>M</code> (&lt; K) - the number of VIP tables. The last line contains <code>M</code> table numbers.</p>
<h3 id="output-specification"><a class="markdownIt-Anchor" href="#output-specification"></a> Output Specification:</h3>
<p>For each test case, first print the arriving time, serving time and the waiting time for each pair of players in the format shown by the sample. Then print in a line the number of players served by each table. Notice that the output must be listed in chronological order of the serving time. The waiting time must be rounded up to an integer minute(s). If one cannot get a table before the closing time, their information must NOT be printed.</p>
<h3 id="sample-input"><a class="markdownIt-Anchor" href="#sample-input"></a> Sample Input:</h3>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">9</span><br><span class="line">20:52:00 10 0</span><br><span class="line">08:00:00 20 0</span><br><span class="line">08:02:00 30 0</span><br><span class="line">20:51:00 10 0</span><br><span class="line">08:10:00 5 0</span><br><span class="line">08:12:00 10 1</span><br><span class="line">20:50:00 10 0</span><br><span class="line">08:01:30 15 1</span><br><span class="line">20:53:00 10 1</span><br><span class="line">3 1</span><br><span class="line">2</span><br></pre></td></tr></table></figure></div>
<h3 id="sample-output"><a class="markdownIt-Anchor" href="#sample-output"></a> Sample Output:</h3>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">08:00:00 08:00:00 0</span><br><span class="line">08:01:30 08:01:30 0</span><br><span class="line">08:02:00 08:02:00 0</span><br><span class="line">08:12:00 08:16:30 5</span><br><span class="line">08:10:00 08:20:00 10</span><br><span class="line">20:50:00 20:50:00 0</span><br><span class="line">20:51:00 20:51:00 0</span><br><span class="line">20:52:00 20:52:00 0</span><br><span class="line">3 3 2</span><br></pre></td></tr></table></figure></div>
<h1 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h1>
<h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2>
<ul>
<li>核心是，要记录每个桌子将要空闲的时间点</li>
<li>所有时间用秒的形式表示</li>
<li>按照人遍历</li>
<li>计算出vip桌子中和普通桌子中最近的空闲时间点</li>
<li>判断有没有VIP可以插队</li>
<li>分配进桌子，更新人的被服务时间和桌子的空闲时间点</li>
</ul>
<h2 id="数据结构"><a class="markdownIt-Anchor" href="#数据结构"></a> 数据结构</h2>
<ul>
<li>normal 指各个普通桌的下一次空闲时间，注意下标并不是题目的桌子编号。</li>
<li>vip 指各个VIP桌子的下一次空闲时间，注意下标并不是题目的桌子编号。</li>
<li>vip_table_ids 将vip的下标映射到真正的桌子编号 - 1</li>
<li>normal_table_ids 将vip的下标映射到真正的桌子编号 - 1</li>
<li>served存放各个桌子服务的总人数（下标为真正的桌子编号 - 1）</li>
<li>tables 包含normal和vip，这是为了写函数的方便。</li>
<li>tables_ids 包含normal_table_ids和vip_table_ids，这是为了写函数的方便。</li>
<li>
<pre><code>    fast_normal 是离空闲时间最近的普通桌
</code></pre>
</li>
<li>fast_normal_id 是离空闲时间最近的普通桌的下标（在normal中的）</li>
<li>
<pre><code>     fast_vip 是离空闲时间最近的VIP桌
</code></pre>
</li>
<li>
<pre><code>      fast_vip_id 是离空闲时间最近的VIP桌的下标（在normal中的）
</code></pre>
</li>
<li>players 列表存放所有的玩家，一个玩家由一个五元素的列表组成，分别是
<ul>
<li>
<pre><code>      到来时间
</code></pre>
</li>
<li>
<pre><code>      需要服务时间
</code></pre>
</li>
<li>
<pre><code>      是否是VIP
</code></pre>
</li>
<li>
<pre><code>      有没有被遍历过
</code></pre>
</li>
<li>
<pre><code>      开始被服务的时间
</code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="算法"><a class="markdownIt-Anchor" href="#算法"></a> 算法</h2>
<ul>
<li>读入数据与数据结构初始化，注意服务时间大于2小时的按2小时算</li>
<li>所有玩家按照来的时间排序</li>
<li>遍历所有的未被服务的顾客</li>
<li>找到最近的普通桌和VIP桌</li>
<li>如果顾客是VIP
<ul>
<li>找VIP桌和普通桌哪一个更快，相同时间里选择VIP桌</li>
</ul>
</li>
<li>如果顾客是普通顾客
<ul>
<li>先找下一个VIP到来的时间</li>
<li>根据桌子空闲的时间和VIP来的时间判断有没有VIP在等着</li>
<li>如果有VIP等着并且恰好下一个空桌是VIP</li>
<li>那么先分配VIP</li>
<li>再分配普通顾客</li>
</ul>
</li>
<li>注意，VIP在面临两种桌时间相等的时候会选择VIP桌，而普通顾客会选择下标更小的。</li>
<li>排序并输出</li>
<li>其中，分配的过程包括
<ul>
<li>标记这个顾客已经处理过</li>
<li>更新这个顾客的被服务时间</li>
<li>更新这张桌子的下一次空闲时间</li>
<li>如果被服务时间在营业时间内，增加相应桌子服务顾客数量</li>
</ul>
</li>
</ul>
<h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2>
<p>这道题使用Python会有一个点超时，因此还有了一个C<ins>的版本。C</ins>的是参考<a href="https://www.liuchuo.net/archives/2955" target="_blank" rel="noopener">柳神</a>的代码。原理其实差不多。</p>
<h3 id="python"><a class="markdownIt-Anchor" href="#python"></a> Python</h3>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把人分配进桌子的函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">allocate</span><span class="params">(cus_index, serve_time, vip_table, table_index)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> players, tables, tables_ids, served</span><br><span class="line">    players[cus_index][<span class="number">4</span>] = max(players[cus_index][<span class="number">0</span>], serve_time)</span><br><span class="line">    tables[vip_table][table_index] = max(players[cus_index][<span class="number">0</span>], serve_time) + players[cus_index][<span class="number">1</span>]</span><br><span class="line">    players[cus_index][<span class="number">3</span>] = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">if</span> players[cus_index][<span class="number">4</span>] &lt; <span class="number">21</span> * <span class="number">3600</span>:</span><br><span class="line">        served[tables_ids[vip_table][table_index]] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据结构初始化与信息录入</span></span><br><span class="line">num_player = int(input())</span><br><span class="line">players = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(num_player):</span><br><span class="line">    arrive_time, play_time, vip = input().split()</span><br><span class="line">    arrive_time = int(arrive_time[<span class="number">0</span>:<span class="number">2</span>]) * <span class="number">3600</span> + int(arrive_time[<span class="number">3</span>:<span class="number">5</span>]) * <span class="number">60</span> + int(arrive_time[<span class="number">6</span>:])</span><br><span class="line">    players.append([arrive_time, min(<span class="number">120</span> * <span class="number">60</span>, int(play_time) * <span class="number">60</span>), int(vip), <span class="literal">False</span>, <span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">players.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line">table_num, vip_table_num = list(map(int, input().split()))</span><br><span class="line">vip_table_ids = list(map(<span class="keyword">lambda</span> x:int(x) - <span class="number">1</span>, input().split()))</span><br><span class="line">normal_table_ids = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(table_num) <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> vip_table_ids]</span><br><span class="line">normal = [<span class="number">8</span> * <span class="number">3600</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(table_num - vip_table_num)]</span><br><span class="line">vip = [<span class="number">8</span> * <span class="number">3600</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(vip_table_num)]</span><br><span class="line">served = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(table_num)]</span><br><span class="line">tables = [normal, vip]</span><br><span class="line">tables_ids = [normal_table_ids, vip_table_ids]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历每一个还未被服务的顾客</span></span><br><span class="line">cus_index = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> cus_index &lt; num_player:</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> players[cus_index][<span class="number">3</span>]:</span><br><span class="line">        <span class="comment"># 找到普通桌和特殊桌的最快腾出时间</span></span><br><span class="line">        fast_normal = min(normal)</span><br><span class="line">        fast_normal_id = normal.index(fast_normal)</span><br><span class="line">        fast_vip = min(vip)</span><br><span class="line">        fast_vip_id = vip.index(fast_vip)</span><br><span class="line">        <span class="comment"># 如果是普通人的话</span></span><br><span class="line">        <span class="keyword">if</span> players[cus_index][<span class="number">2</span>] == <span class="number">0</span>:</span><br><span class="line">            <span class="comment"># 找到下一个VIP到来的时间</span></span><br><span class="line">            next_vip_arrive = <span class="number">21</span> * <span class="number">3600</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(cus_index, num_player):</span><br><span class="line">                <span class="keyword">if</span> players[i][<span class="number">2</span>] == <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> players[i][<span class="number">3</span>]:</span><br><span class="line">                    next_vip_arrive = players[i][<span class="number">0</span>]</span><br><span class="line">                    next_vip_id = i</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="comment"># 如果VIP桌更快腾出来而恰好有VIP在排队中，那就得先安排VIP的</span></span><br><span class="line">            <span class="keyword">if</span> fast_normal &gt;= fast_vip &gt;= next_vip_arrive:</span><br><span class="line">                allocate(next_vip_id, fast_vip, <span class="number">1</span>, fast_vip_id)</span><br><span class="line">                fast_vip = min(vip)</span><br><span class="line">                fast_vip_id = vip.index(fast_vip)</span><br><span class="line">            <span class="comment"># 再安排普通人</span></span><br><span class="line">            <span class="keyword">if</span> fast_vip &lt; fast_normal <span class="keyword">or</span> (fast_vip == fast_normal <span class="keyword">and</span> vip_table_ids[fast_vip_id] &lt; normal_table_ids[fast_normal_id]):</span><br><span class="line">                allocate(cus_index, fast_vip, <span class="number">1</span>, fast_vip_id)</span><br><span class="line">            <span class="keyword">elif</span> fast_vip &gt; fast_normal <span class="keyword">or</span> (fast_vip == fast_normal <span class="keyword">and</span> vip_table_ids[fast_vip_id] &gt; normal_table_ids[fast_normal_id]):</span><br><span class="line">                allocate(cus_index, fast_normal, <span class="number">0</span>, fast_normal_id)</span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># 对于VIP</span></span><br><span class="line">            <span class="keyword">if</span> fast_vip &lt;= fast_normal:</span><br><span class="line">                allocate(cus_index, fast_vip, <span class="number">1</span>, fast_vip_id)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                allocate(cus_index, fast_normal, <span class="number">0</span>, fast_normal_id)</span><br><span class="line">    cus_index += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 排序并输出</span></span><br><span class="line">players.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">4</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> players:</span><br><span class="line">    <span class="keyword">if</span> i[<span class="number">4</span>] &lt; <span class="number">21</span> * <span class="number">3600</span>:</span><br><span class="line">        print(<span class="string">"%02d:%02d:%02d %02d:%02d:%02d %d"</span> % (</span><br><span class="line">            i[<span class="number">0</span>] // <span class="number">3600</span>, i[<span class="number">0</span>] % <span class="number">3600</span> // <span class="number">60</span>, i[<span class="number">0</span>] % <span class="number">60</span>, i[<span class="number">4</span>] // <span class="number">3600</span>, i[<span class="number">4</span>] % <span class="number">3600</span> // <span class="number">60</span>, i[<span class="number">4</span>] % <span class="number">60</span>,</span><br><span class="line">            (i[<span class="number">4</span>] - i[<span class="number">0</span>] + <span class="number">30</span>) / <span class="number">60</span>))</span><br><span class="line"></span><br><span class="line">print(<span class="string">" "</span>.join(list(map(str,served))))</span><br></pre></td></tr></table></figure></div>
<h3 id="c"><a class="markdownIt-Anchor" href="#c"></a> C++</h3>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">c++</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">person</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> arrive, start, time;</span><br><span class="line">    <span class="keyword">bool</span> vip;</span><br><span class="line">&#125;tempperson;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tablenode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">end</span> = <span class="number">8</span> * <span class="number">3600</span>, num;</span><br><span class="line">    <span class="keyword">bool</span> vip;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp1</span><span class="params">(person a, person b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.arrive &lt; b.arrive;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp2</span><span class="params">(person a, person b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.start &lt; b.start;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">vector</span>&lt;person&gt; player;</span><br><span class="line"><span class="built_in">vector</span>&lt;tablenode&gt; table;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">alloctable</span><span class="params">(<span class="keyword">int</span> personid, <span class="keyword">int</span> tableid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(player[personid].arrive &lt;= table[tableid].<span class="built_in">end</span>)</span><br><span class="line">        player[personid].start = table[tableid].<span class="built_in">end</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        player[personid].start = player[personid].arrive;</span><br><span class="line">    table[tableid].<span class="built_in">end</span> = player[personid].start + player[personid].time;</span><br><span class="line">    table[tableid].num++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findnextvip</span><span class="params">(<span class="keyword">int</span> vipid)</span> </span>&#123;</span><br><span class="line">    vipid++;</span><br><span class="line">    <span class="keyword">while</span>(vipid &lt; player.<span class="built_in">size</span>() &amp;&amp; !player[vipid].vip) vipid++;</span><br><span class="line">    <span class="keyword">return</span> vipid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, k, m, viptable;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> h, m, s, temptime, flag;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d:%d:%d %d %d"</span>, &amp;h, &amp;m, &amp;s, &amp;temptime, &amp;flag);</span><br><span class="line">        tempperson.arrive = h * <span class="number">3600</span> + m * <span class="number">60</span> + s;</span><br><span class="line">        tempperson.start = <span class="number">21</span> * <span class="number">3600</span>;</span><br><span class="line">        <span class="keyword">if</span>(tempperson.arrive &gt;= <span class="number">21</span> * <span class="number">3600</span>) <span class="keyword">continue</span>;</span><br><span class="line">        tempperson.time = temptime &lt;= <span class="number">120</span> ? temptime * <span class="number">60</span> : <span class="number">7200</span>;</span><br><span class="line">        tempperson.vip = flag == <span class="number">1</span>;</span><br><span class="line">        player.push_back(tempperson);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;k, &amp;m);</span><br><span class="line">    table.resize(k + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;viptable);</span><br><span class="line">        table[viptable].vip = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(player.<span class="built_in">begin</span>(), player.<span class="built_in">end</span>(), cmp1);</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, vipid = <span class="number">-1</span>;</span><br><span class="line">    vipid = findnextvip(vipid);</span><br><span class="line">    <span class="keyword">while</span>(i &lt; player.<span class="built_in">size</span>()) &#123;</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">-1</span>, minendtime = <span class="number">999999999</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= k; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(table[j].<span class="built_in">end</span> &lt; minendtime) &#123;</span><br><span class="line">                minendtime = table[j].<span class="built_in">end</span>;</span><br><span class="line">                index = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(table[index].<span class="built_in">end</span> &gt;= <span class="number">21</span> * <span class="number">3600</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(player[i].vip &amp;&amp; i &lt; vipid) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(table[index].vip) &#123;</span><br><span class="line">            <span class="keyword">if</span>(player[i].vip) &#123;</span><br><span class="line">                alloctable(i, index);</span><br><span class="line">                <span class="keyword">if</span>(vipid == i) vipid = findnextvip(vipid);</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(vipid &lt; player.<span class="built_in">size</span>() &amp;&amp; player[vipid].arrive &lt;= table[index].<span class="built_in">end</span>) &#123;</span><br><span class="line">                    alloctable(vipid, index);</span><br><span class="line">                    vipid = findnextvip(vipid);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    alloctable(i, index);</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(!player[i].vip) &#123;</span><br><span class="line">                alloctable(i, index);</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> vipindex = <span class="number">-1</span>, minvipendtime = <span class="number">999999999</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= k; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(table[j].vip &amp;&amp; table[j].<span class="built_in">end</span> &lt; minvipendtime) &#123;</span><br><span class="line">                        minvipendtime = table[j].<span class="built_in">end</span>;</span><br><span class="line">                        vipindex = j;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(vipindex != <span class="number">-1</span> &amp;&amp; player[i].arrive &gt;= table[vipindex].<span class="built_in">end</span>) &#123;</span><br><span class="line">                    alloctable(i, vipindex);</span><br><span class="line">                    <span class="keyword">if</span>(vipid == i) vipid = findnextvip(vipid);</span><br><span class="line">                    i++;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    alloctable(i, index);</span><br><span class="line">                    <span class="keyword">if</span>(vipid == i) vipid = findnextvip(vipid);</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(player.<span class="built_in">begin</span>(), player.<span class="built_in">end</span>(), cmp2);</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; player.<span class="built_in">size</span>() &amp;&amp; player[i].start &lt; <span class="number">21</span> * <span class="number">3600</span>; i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%02d:%02d:%02d "</span>, player[i].arrive / <span class="number">3600</span>, player[i].arrive % <span class="number">3600</span> / <span class="number">60</span>, player[i].arrive % <span class="number">60</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%02d:%02d:%02d "</span>, player[i].start / <span class="number">3600</span>, player[i].start % <span class="number">3600</span> / <span class="number">60</span>, player[i].start % <span class="number">60</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.0f\n"</span>, round((player[i].start - player[i].arrive) / <span class="number">60.0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i != <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, table[i].num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/PAT/">PAT    </a><a class="post-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/wechat.webp" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/alipay.webp" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/1027-Colors-in-Mars.html"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>&lt;Python&gt;&lt;PAT&gt; 1027 Colors in Mars</span></div></a></div><div class="next-post pull_right"><a href="/1025-PAT-Ranking.html"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>&lt;Python&gt;&lt;PAT&gt; 1025 PAT Ranking</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/1147-Heaps.html" title="<Python><PAT> 1147 Heaps"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-09-07</div><div class="relatedPosts_title"><Python><PAT> 1147 Heaps</div></div></a></div><div class="relatedPosts_item"><a href="/1151-LCA-in-a-Binary-Tree.html" title="<Python><PAT> 1151 LCA in a Binary Tree"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-09-07</div><div class="relatedPosts_title"><Python><PAT> 1151 LCA in a Binary Tree</div></div></a></div><div class="relatedPosts_item"><a href="/1143-Lowest-Common-Ancestor.html" title="<Python><PAT> 1143 Lowest Common Ancestor"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-09-07</div><div class="relatedPosts_title"><Python><PAT> 1143 Lowest Common Ancestor</div></div></a></div><div class="relatedPosts_item"><a href="/1155-Heap-Paths.html" title="<Python><PAT> 1155 Heap Paths"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-09-07</div><div class="relatedPosts_title"><Python><PAT> 1155 Heap Paths</div></div></a></div><div class="relatedPosts_item"><a href="/1154-Vertex-Coloring.html" title="<Python><PAT> 1154 Vertex Coloring"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-09-07</div><div class="relatedPosts_title"><Python><PAT> 1154 Vertex Coloring</div></div></a></div><div class="relatedPosts_item"><a href="/1153-Decode-Registration-Card-of-PAT.html" title="<Python><PAT> 1153 Decode Registration Card of PAT"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-cover.webp"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-09-07</div><div class="relatedPosts_title"><Python><PAT> 1153 Decode Registration Card of PAT</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = false == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'4z8dfu0wvumOs1BjFBJ5jUQ3-gzGzoHsz',
  appKey:'ikfFd8mKVK80FpjJve5nhHVF',
  placeholder:'ヾﾉ≧∀≦)o来啊，快活啊! 如果在上方留下邮箱，那么当有人回复你时，你会受到邮件通知。',
  avatar:'wavatar',
  guest_info:guest_info,
  pageSize:'10',
  lang:'zh-cn',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/QSCTech-Sange/picBed/PAT-top.webp)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By 杨宇昊</div><div class="footer_custom_text">我怎么就这么菜啊！</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/fireworks.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="ribbon_piao" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>